<div class="card p-4 shadow-lg mx-auto mt-4" style="max-width: 600px;">
  <h3 class="text-center text-primary mb-4">Registrar Nueva Orden</h3>

  <form [formGroup]="orderForm" (ngSubmit)="onSubmit()">
    <!-- Nombre -->
    <div class="mb-3">
      <label class="form-label">Nombre completo del remitente</label>
      <input
        type="text"
        formControlName="name"
        class="form-control"
        placeholder="Ingrese el nombre completo"
      />
      <div *ngIf="orderForm.controls['name'].invalid && orderForm.controls['name'].touched" class="text-danger small mt-1">
        El nombre es obligatorio y solo debe contener letras.
      </div>
    </div>

    <!-- Direcci√≥n -->
    <label class="form-label mt-3">Direcci√≥n de entrega</label>
    <div class="row g-2">
      <div class="col-md-6">
        <input formControlName="street" type="text" class="form-control" placeholder="Calle y avenida" />
      </div>
      <div class="col-md-6">
        <input formControlName="zone" type="text" class="form-control" placeholder="Zona" />
      </div>
      <div class="col-md-6">
        <input formControlName="municipality" type="text" class="form-control" placeholder="Municipio" />
      </div>
      <div class="col-md-6">
        <input formControlName="department" type="text" class="form-control" placeholder="Departamento" />
      </div>
    </div>

    <div
      *ngIf="(orderForm.controls['street'].invalid && orderForm.controls['street'].touched)
           || (orderForm.controls['zone'].invalid && orderForm.controls['zone'].touched)
           || (orderForm.controls['municipality'].invalid && orderForm.controls['municipality'].touched)
           || (orderForm.controls['department'].invalid && orderForm.controls['department'].touched)"
      class="text-danger small mt-2"
    >
      Todos los campos de direcci√≥n son obligatorios.
    </div>

    <!-- Correo -->
    <div class="mt-3">
      <label class="form-label">Correo electr√≥nico</label>
      <input
        type="email"
        formControlName="email"
        class="form-control"
        placeholder="ejemplo@gmail.com o ejemplo@outlook.com"
      />
      <div *ngIf="orderForm.controls['email'].invalid && orderForm.controls['email'].touched" class="text-danger small mt-1">
        Solo se permiten correos Gmail u Outlook v√°lidos.
      </div>
    </div>

    <!-- Descripci√≥n -->
    <div class="mt-3">
      <label class="form-label">Descripci√≥n del paquete</label>
      <textarea
        formControlName="description"
        class="form-control"
        rows="3"
        placeholder="Describa el contenido (40‚Äì120 caracteres)"
      ></textarea>
      <div *ngIf="orderForm.controls['description'].invalid && orderForm.controls['description'].touched" class="text-danger small mt-1">
        La descripci√≥n debe tener entre 40 y 120 caracteres.
      </div>
    </div>

    <!-- Bot√≥n -->
    <button type="submit" [disabled]="orderForm.invalid" class="btn btn-primary w-100 mt-4">
      Crear Orden
    </button>
  </form>

  <!-- Tarjeta de confirmaci√≥n -->
  <div *ngIf="lastOrder" class="card text-light bg-dark mt-4 p-3 mx-auto" style="max-width: 600px;">
    <h4 class="text-info text-center">Orden Creada Exitosamente</h4>
    <p><strong>Remitente:</strong> {{ lastOrder.name }}</p>
    <p><strong>Direcci√≥n:</strong> {{ lastOrder.address }}</p>
    <p><strong>Correo:</strong> {{ lastOrder.email }}</p>
    <p><strong>Estado:</strong> {{ lastOrder.status }}</p>

    <div class="d-flex align-items-center">
      <strong>C√≥digo de rastreo:</strong>
      <span class="ms-2 tracking text-primary">{{ lastOrder.trackingCode }}</span>
      <span class="copy-icon ms-2" title="Copiar" (click)="copyCode(lastOrder.trackingCode)">üìã</span>
      <small *ngIf="copied" class="ms-2 text-success fw-bold">¬°Copiado!</small>
    </div>
  </div>
</div>
